{"version":3,"sources":["gchart_renderers.coffee"],"names":[],"mappings":"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","file":"gchart_renderers.js","sourceRoot":"/source/","sourcesContent":["callWithJQuery = (pivotModule) ->\n    if typeof exports is \"object\" and typeof module is \"object\" # CommonJS\n        pivotModule require(\"jquery\")\n    else if typeof define is \"function\" and define.amd # AMD\n        define [\"jquery\"], pivotModule\n    # Plain browser env\n    else\n        pivotModule jQuery\n        \ncallWithJQuery ($) ->\n\n    makeGoogleChart = (chartType, extraOptions) -> (pivotData, opts) ->\n        defaults =\n            localeStrings:\n                vs: \"vs\"\n                by: \"by\"\n            gchart: {}\n\n        opts = $.extend true, defaults, opts\n        opts.gchart.width ?= window.innerWidth / 1.4\n        opts.gchart.height ?= window.innerHeight / 1.4\n\n        rowKeys = pivotData.getRowKeys()\n        rowKeys.push [] if rowKeys.length == 0\n        colKeys = pivotData.getColKeys()\n        colKeys.push [] if colKeys.length == 0\n        fullAggName = pivotData.aggregatorName \n        if pivotData.valAttrs.length\n            fullAggName += \"(#{pivotData.valAttrs.join(\", \")})\"\n        headers = (h.join(\"-\") for h in rowKeys)\n        headers.unshift \"\"\n\n        numCharsInHAxis = 0\n        if chartType == \"ScatterChart\"\n            dataArray = []\n            for y, tree2 of pivotData.tree\n                for x, agg of tree2\n                     dataArray.push [\n                        parseFloat(x),\n                        parseFloat(y),\n                        fullAggName+\": \\n\"+agg.format(agg.value())\n                        ]\n            dataTable = new google.visualization.DataTable()\n            dataTable.addColumn 'number', pivotData.colAttrs.join(\"-\")\n            dataTable.addColumn 'number', pivotData.rowAttrs.join(\"-\") \n            dataTable.addColumn type: \"string\", role: \"tooltip\"\n            dataTable.addRows dataArray\n            hAxisTitle = pivotData.colAttrs.join(\"-\")\n            vAxisTitle = pivotData.rowAttrs.join(\"-\")\n            title = \"\"\n        else\n            dataArray = [headers]\n            for colKey in colKeys\n                row = [colKey.join(\"-\")]\n                numCharsInHAxis += row[0].length\n                for rowKey in rowKeys\n                    agg = pivotData.getAggregator(rowKey, colKey)\n                    if agg.value()?\n                        val = agg.value()\n                        if $.isNumeric val\n                            if val < 1\n                                row.push parseFloat(val.toPrecision(3))\n                            else\n                                row.push parseFloat(val.toFixed(3))\n                        else\n                            row.push val\n                    else row.push null\n                dataArray.push row\n\n            dataTable = google.visualization.arrayToDataTable(dataArray)\n\n            title = vAxisTitle = fullAggName\n            hAxisTitle = pivotData.colAttrs.join(\"-\")\n            title += \" #{opts.localeStrings.vs} #{hAxisTitle}\" if hAxisTitle != \"\"\n            groupByTitle = pivotData.rowAttrs.join(\"-\")\n            title += \" #{opts.localeStrings.by} #{groupByTitle}\" if groupByTitle != \"\"\n\n        options = \n            title: title\n            hAxis: {title: hAxisTitle, slantedText: numCharsInHAxis > 50}\n            vAxis: {title: vAxisTitle}\n            legend: {position: 'right'}\n            width: \"100%\"\n            height: \"100%\"\n            colors: ['#84B2CC', '#0099C6','#FF9900','#109618','#990099','#3B3EAC','#DD4477','#66AA00','#B82E2E','#316395','#994499','#22AA99','#AAAA11','#E67300','#8B0707','#329262','#5574A6',],\n            tooltip: { \n                textStyle:{ \n                    fontSize: 12\n                }\n            }\n            textStyle:{ \n                fontSize: 10\n            }\n\n        if chartType == \"ColumnChart\"\n            options.vAxis.minValue = 0\n\n        if chartType == \"ScatterChart\"\n            options.legend = position: \"none\"\n            options.chartArea = {'width': '100%', 'height': '100%'}\n\n        if chartType == \"LineChart\"\n            options.chartArea = {\n             'width': '80%',\n             'left':'10%',\n             'height': '70%',\n             'top':'5%'\n            }\n            options.width = \"100%\"\n\n        if chartType == \"PieChart\"\n            options.legend = {position: 'right'};\n            options.chartArea = {\n                'width': '90%',\n                'height': '90%'\n            }\n            dataTable.setColumnLabel(0, pivotData.colAttrs.join(\"-\"))\n            dataTable.setColumnLabel(1, pivotData.valAttrs.join(\"-\"))\n\n        if chartType == \"BarChart\"\n            options.legend = 'right';\n            options.chartArea = {\n                'width': '70%',\n                'left':'15%',\n                'height': '90%'\n            }\n            options.vAxis = {\n                'title': hAxisTitle,\n                'slantedText': numCharsInHAxis > 50\n            }\n            options.hAxis = {\n                'title': vAxisTitle\n            }\n\n            if not extraOptions.isStacked\n\n                for own i, dataA of dataArray\n                    if i > 0\n                        dataArray[i][1] = parseFloat(parseFloat(dataArray[i][1]*100).toFixed(2))\n                        dataArray[i].push(dataArray[i][1] + \"%\")\n                    else\n                        dataArray[0].push({ role: 'annotation' })\n                \n            dataTable = google.visualization.arrayToDataTable(dataArray);\n\n        if chartType == \"AreaChart\"\n            options.chartArea = {\n                'width': '70%',\n                'left':'5%',\n                'height': '70%',\n                'top':'5%'\n            }\n            options.width = \"100%\"\n            options.legend = {position: \"right\"}\n            options.isStacked = true\n\n        if chartType == \"GeoChart\"\n            options.legend = {textStyle: {color: '#3E718E', fontSize: 12}}\n            console.log(extraOptions)\n            options.region = extraOptions.region\n            if options.region == 'BR'\n                options.resolution = 'provinces'\n            options.displayMode = 'regions'\n            options.colors = [\"#3E718E\"]\n            options.colorAxis = {colors:['#F5F5F5','#3E718E'], minValue: 0}\n\n            dataTable.setColumnLabel(0, pivotData.colAttrs.join(\"-\"))\n            dataTable.setColumnLabel(0, pivotData.valAttrs.join(\"-\"))\n        \n        \n\n        else if dataArray[0].length == 2 and dataArray[0][1] ==  \"\"\n            options.legend = position: \"none\"\n\n\n        \n        $.extend options, opts.gchart, extraOptions\n\n        result = $(\"<div>\").css(height: \"100%\")\n\n        if chartType != \"BarChart\"\n            result = $(\"<div>\").css({\n              width: \"100%\",\n              height: \"100%\",\n              padding: \"0 !important\"\n            })\n        dataTable.setColumnLabel(0, pivotData.colAttrs.join(\"-\"))\n        \n        if chartType == \"LineChart\" || chartType == \"AreaChart\" \n            result = $(\"<div>\").css({\n              width: \"100%\",\n              height: \"100%\",\n              padding: \"0 !important\"\n            })\n\n        wrapper = new google.visualization.ChartWrapper {dataTable, chartType, options}\n        wrapper.draw(result[0])    \n        result.bind \"dblclick\", -> \n            editor = new google.visualization.ChartEditor()\n            google.visualization.events.addListener editor, 'ok', -> \n                editor.getChartWrapper().draw(result[0])\n            editor.openDialog(wrapper)\n        return result\n\n    $.pivotUtilities.gchart_renderers = \n        \"Line Chart\": makeGoogleChart(\"LineChart\")\n        \"Pie Chart\": makeGoogleChart(\"PieChart\")\n        \"Bar Chart\": makeGoogleChart(\"BarChart\")\n        \"Stacked Bar Chart\": makeGoogleChart(\"BarChart\", isStacked: true)\n        \"Column Chart\": makeGoogleChart(\"ColumnChart\")\n        \"Stacked Column Chart\": makeGoogleChart(\"ColumnChart\", isStacked: true)\n        \"Area Chart\": makeGoogleChart(\"AreaChart\", isStacked: true)\n        \"Scatter Chart\": makeGoogleChart(\"ScatterChart\")\n        \"Geographic Chart - Brazil\": makeGoogleChart(\"GeoChart\", {region: 'BR'}, false),\n        \"Geographic Chart - South America\": makeGoogleChart(\"GeoChart\", {region: '005'}, false),\n        \"Geographic Chart - World\": makeGoogleChart(\"GeoChart\", {region: 'world'}, false),\n"]}